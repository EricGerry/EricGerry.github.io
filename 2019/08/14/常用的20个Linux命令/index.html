<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
    
    
        
            
                <link rel="shortcut icon" href="/images/favicon.ico">
            
        
        
            
                <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
            
        
        
            
                <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
            
        
    
    <!-- title -->
    <title>常用的20个Linux命令</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+SC&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@2/distr/fira_code.css" rel="stylesheet">
    <!-- rss -->
    
    
        <link rel="alternate" href="/true" title="TheOak" type="application/atom+xml"/>
    
<meta name="generator" content="Hexo 4.2.0"></head>

<body class="max-width mx-auto px3 ltr">

    <div id="header-post">
    <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
    <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
    <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i
                class="fas fa-chevron-up fa-lg"></i></a>
    <span id="menu">
    <span id="nav">
      <ul>
          
              <li><a href="/">Home</a></li>
          
              <li><a href="/archives/">Articles</a></li>
          
              <li><a href="/categories/">Category</a></li>
          
              <li><a href="/tags/">Tag</a></li>
          
              <li><a href="/about/">About</a></li>
          
              <li><a href="/search/">Search</a></li>
          
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
          
              <li><a class="icon" href="/2019/08/15/%E7%BB%99%E4%BF%BA%E4%B8%80%E9%A6%96%E6%AD%8C%E7%9A%84%E6%97%B6%E9%97%B4%EF%BC%9A%E5%B8%A6%E4%BD%A0%E4%BA%86%E8%A7%A3Git%E7%9A%84%E5%89%8D%E4%B8%96%E4%BB%8A%E7%94%9F/"><i class="fas fa-chevron-left"
                                                                           aria-hidden="true"
                                                                           onmouseover="$('#i-prev').toggle();"
                                                                           onmouseout="$('#i-prev').toggle();"></i></a></li>
          
          
              <li><a class="icon" href="/2019/07/26/SqlOrNoSql%EF%BC%8C%E7%9C%8B%E5%AE%8C%E8%BF%99%E4%B8%80%E7%AF%87%E4%BD%A0%E5%B0%B1%E6%87%82%E4%BA%86/"><i class="fas fa-chevron-right"
                                                                           aria-hidden="true"
                                                                           onmouseover="$('#i-next').toggle();"
                                                                           onmouseout="$('#i-next').toggle();"></i></a></li>
          
          <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i
                          class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();"
                          onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true"
                                        onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();"
                                        onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
    <li><a class="icon"
           href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://theoak.online/2019/08/14/%E5%B8%B8%E7%94%A8%E7%9A%8420%E4%B8%AALinux%E5%91%BD%E4%BB%A4/&title=常用的20个Linux命令"><i
                    class="fab fa-qq " aria-hidden="true"></i></a></li>
    <li><a class="icon"
           href="https://service.weibo.com/share/share.php?url=http://theoak.online/2019/08/14/%E5%B8%B8%E7%94%A8%E7%9A%8420%E4%B8%AALinux%E5%91%BD%E4%BB%A4/&title=常用的20个Linux命令"><i
                    class="fab fa-weibo " aria-hidden="true"></i></a></li>
    <li><a class="icon" href="https://twitter.com/share?url=http://theoak.online/2019/08/14/%E5%B8%B8%E7%94%A8%E7%9A%8420%E4%B8%AALinux%E5%91%BD%E4%BB%A4/&text=常用的20个Linux命令" target="_blank" rel="noopener"><i
                    class="fab fa-twitter " aria-hidden="true"></i></a></li>
    <li><a class="icon" href="mailto:?subject=常用的20个Linux命令&body=Check out this article: http://theoak.online/2019/08/14/%E5%B8%B8%E7%94%A8%E7%9A%8420%E4%B8%AALinux%E5%91%BD%E4%BB%A4/"><i
                    class="fas fa-envelope " aria-hidden="true"></i></a></li>
</ul>
    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-查看目录以及权限"><span class="toc-number">1.</span> <span class="toc-text">1 查看目录以及权限</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-nohup-no-hang-up-不要挂起的意思"><span class="toc-number">2.</span> <span class="toc-text">2 nohup(no hang up 不要挂起的意思)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-查看进程"><span class="toc-number">3.</span> <span class="toc-text">3 查看进程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-awk"><span class="toc-number">4.</span> <span class="toc-text">4 awk</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-tar解压缩"><span class="toc-number">5.</span> <span class="toc-text">5 tar解压缩</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-scp"><span class="toc-number">6.</span> <span class="toc-text">6 scp</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-不敢用的命令-rm-rf"><span class="toc-number">7.</span> <span class="toc-text">7 不敢用的命令 rm -rf</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-watch"><span class="toc-number">8.</span> <span class="toc-text">8 watch</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-df"><span class="toc-number">9.</span> <span class="toc-text">9 df</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-tcpdump"><span class="toc-number">10.</span> <span class="toc-text">10 tcpdump</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-lsof"><span class="toc-number">11.</span> <span class="toc-text">11 lsof</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-nc"><span class="toc-number">12.</span> <span class="toc-text">12 nc</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-netstat"><span class="toc-number">13.</span> <span class="toc-text">13 netstat</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-vmstat"><span class="toc-number">14.</span> <span class="toc-text">14 vmstat</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-mpstat"><span class="toc-number">15.</span> <span class="toc-text">15 mpstat</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16-split"><span class="toc-number">16.</span> <span class="toc-text">16 split</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17-wc-c-filename"><span class="toc-number">17.</span> <span class="toc-text">17 wc -c +filename</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#18-more-less"><span class="toc-number">18.</span> <span class="toc-text">18 more&#x2F;less</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#19-head-tail"><span class="toc-number">19.</span> <span class="toc-text">19 head&#x2F;tail</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20-diff"><span class="toc-number">20.</span> <span class="toc-text">20 diff</span></a></li></ol>
    </div>
  </span>
</div>

<div class="content index py4">
    
    <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
        
    <h1 class="posttitle" itemprop="name headline">
        常用的20个Linux命令
    </h1>

        <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">
            EricGerry
            
        </span>
      </span>
            
    <div class="postdate">
        
            <time datetime="2019-08-14T13:21:06.000Z"
                  itemprop="datePublished">2019-08-14</time>
            
                (Updated:
                <time datetime="2020-07-14T13:52:52.252Z"
                      itemprop="dateModified">2020-07-14</time>)
            
        
    </div>

            
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a> › <a class="category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Linux/">Linux</a>
    </div>

            
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/Linux/" rel="tag">Linux</a>
    </div>

        </div>
    </header>
    
    <div class="content" itemprop="articleBody">
        <p><img src="/2019/08/14/%E5%B8%B8%E7%94%A8%E7%9A%8420%E4%B8%AALinux%E5%91%BD%E4%BB%A4/%E5%B8%B8%E7%94%A8%E7%9A%8420%E4%B8%AALinux%E5%91%BD%E4%BB%A4.png" alt=" "></p>
<h2 id="1-查看目录以及权限"><a href="#1-查看目录以及权限" class="headerlink" title="1 查看目录以及权限"></a>1 查看目录以及权限</h2><blockquote>
<p>在windows中，使用dir查看当前目录中文件。在Linux中使用ls(list)查看当前目录文件。</p>
</blockquote>
<p>windows中的dir，如下图所示<br><img src="/2019/08/14/%E5%B8%B8%E7%94%A8%E7%9A%8420%E4%B8%AALinux%E5%91%BD%E4%BB%A4/windows%E4%B8%AD%E7%9A%84dir.png" alt=" "></p>
<blockquote>
<p>在Linux中，通常使用ls -l列出，其中可以查看文件属性，所属用户组等较为详细的信息。下面详细解释从左到右每一列是什么意思</p>
</blockquote>
<p><img src="/2019/08/14/%E5%B8%B8%E7%94%A8%E7%9A%8420%E4%B8%AALinux%E5%91%BD%E4%BB%A4/Linux%E4%B8%ADll.png" alt=" "></p>
<p><strong>第一列 第一个字段：</strong> 文件类型，后面9个字符是模式，其中分为三组，每一组三个字段。第一组为所属用户权限。第二组为所属组的权限。第三组为其他用户所属权限。其中r(read)代表可读，w(write)代表可写，e(execute)代表可执行。在后面的9个字符中，如果是字母说明有相应的权限，如果为”-“代表没有权限。举一个例子</p>
<p>-rw-r-r–:此为普通文件，对于所属用户为可读可写不能执行，对于所属组仅仅可读，对于其他用户仅为读。</p>
<p><strong>第二列 硬链接数目:</strong></p>
<blockquote>
<p>硬链接允许作用之一是允许一个文件拥有多个有效路径名，从而防止误删。但是只能在同一文件系统中的文件之间进行连接，不能对目录进行创建。</p>
</blockquote>
<p>第三列是所属用户，第四列为所属组，第五列为文件大小，第六列为文件被修改的时间，最后为文件名。其中使用chown改变所属用户，chgrp改变所属组。</p>
<h2 id="2-nohup-no-hang-up-不要挂起的意思"><a href="#2-nohup-no-hang-up-不要挂起的意思" class="headerlink" title="2 nohup(no hang up 不要挂起的意思)"></a>2 nohup(no hang up 不要挂起的意思)</h2><blockquote>
<p>这也是常用后台启动程序的常用方法，如果在交互命令行中运行程序，我们很容易就终止它。在交互环境下，我们的输出一般都会直接输出到当前界面，在后台启动的时候通常会定向到文件，那通常情况是下面这个命令。</p>
</blockquote>
<p>nohup command &gt;X.file 2 &gt;&amp;1 &amp;</p>
<blockquote>
<p>其中1表示标准输出。2表示文件标准错误输出。2&gt;1&amp;即将两者合并，但是合并到哪里，就是X.file.</p>
</blockquote>
<h2 id="3-查看进程"><a href="#3-查看进程" class="headerlink" title="3 查看进程"></a>3 查看进程</h2><blockquote>
<p>有的时候我们需要查看进程是否已经启动或者尝试终止进程。经常使用的命令为ps -ef—列出当前正在运行的程序，那如何定位我们想要查看的进程A，这个时候使用grep，即ps -ef| grep A.</p>
</blockquote>
<h2 id="4-awk"><a href="#4-awk" class="headerlink" title="4 awk"></a>4 awk</h2><blockquote>
<p>如果文件是csv(a.csv)，按照”,”分割，需求为打印第一列和第二列</p>
</blockquote>
<p>awk -F “,” ‘{print 2}’ a.csv</p>
<blockquote>
<p>获取第三列最大值</p>
</blockquote>
<p>awk ‘BEGIN{max=0}{if(3}END{print max}’</p>
<h2 id="5-tar解压缩"><a href="#5-tar解压缩" class="headerlink" title="5 tar解压缩"></a>5 tar解压缩</h2><blockquote>
<p>解压缩命令</p>
</blockquote>
<p>常用参数</p>
<ul>
<li>-c:创建的tar文件</li>
<li>-x:解开tar文件</li>
<li>-t:列出tar文件中包含的文件信息</li>
<li>-r：附加新的文件到tar文件中</li>
</ul>
<p>常用命令组合</p>
<p>tar -xvf /home/a.tar  //打开tar打包文件<br>tar -zxvf /home/a.tar.gz //解压以gzip压缩的文件<br>tar -jxvf /home/a.tar.bz2 //解压以bzip压缩的文件<br>tar -cvf /home/a.tar /home 打包/home下所有文件</p>
<h2 id="6-scp"><a href="#6-scp" class="headerlink" title="6 scp"></a>6 scp</h2><blockquote>
<p>通过scp命令在多台服务器中的相互复制 传输文件。为了省下输入密码，可以设置免密登录。</p>
</blockquote>
<p>常用组合：</p>
<p>例子1：将A服务器中/home/a.txt 复制到B服务器的/home中</p>
<p>scp -r /home/a.txt root@B_ip:/home</p>
<h2 id="7-不敢用的命令-rm-rf"><a href="#7-不敢用的命令-rm-rf" class="headerlink" title="7 不敢用的命令 rm -rf"></a>7 不敢用的命令 rm -rf</h2><blockquote>
<p>保持清醒，慎用！</p>
</blockquote>
<h2 id="8-watch"><a href="#8-watch" class="headerlink" title="8 watch"></a>8 watch</h2><blockquote>
<p>这个命令是动态查看命令执行的结果。比如如果需要每隔一秒高亮显示网络连接数的变化情况。则 watch -n 1 -d netstat -ant</p>
</blockquote>
<p>例子：每隔一秒高亮显示http连接数的变化情况</p>
<p>watch -n 1 -d ‘pstree | grep http’</p>
<p>例子:十秒一次输出系统的平均负载</p>
<p>watch -n 10 ‘cat /proc/loadavg’</p>
<h2 id="9-df"><a href="#9-df" class="headerlink" title="9 df"></a>9 df</h2><blockquote>
<p>查看磁盘大小</p>
</blockquote>
<p>df -h</p>
<p><img src="/2019/08/14/%E5%B8%B8%E7%94%A8%E7%9A%8420%E4%B8%AALinux%E5%91%BD%E4%BB%A4/%E6%9F%A5%E7%9C%8B%E7%A3%81%E7%9B%98%E5%A4%A7%E5%B0%8F.png" alt=" "></p>
<h2 id="10-tcpdump"><a href="#10-tcpdump" class="headerlink" title="10 tcpdump"></a>10 tcpdump</h2><blockquote>
<p>和它类似的工具在windows中是wireshark，其采用底层库winpcap/libpcap实现。采用了bpf过滤机制。下面我们看看提供的不同参数的含义。</p>
</blockquote>
<table>
<thead>
<tr>
<th align="center">参数名</th>
<th align="center">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-n</td>
<td align="center">使用IP地址表示主机。使用数字表示端口</td>
</tr>
<tr>
<td align="center">-i</td>
<td align="center">指定要监听的端口。如果为”-i any”表示住区所有网卡数据包</td>
</tr>
<tr>
<td align="center">-v</td>
<td align="center">输出诸如ip数据包中的TTL更加详细的信息</td>
</tr>
<tr>
<td align="center">-t</td>
<td align="center">不打印时间戳</td>
</tr>
<tr>
<td align="center">-e</td>
<td align="center">显示以太网帧头部信息</td>
</tr>
<tr>
<td align="center">-c</td>
<td align="center">仅仅抓取指定数量的数据包</td>
</tr>
<tr>
<td align="center">-x</td>
<td align="center">按照十六进制显示数据包内容</td>
</tr>
<tr>
<td align="center">-X</td>
<td align="center">不仅仅输出-x结果还输出十六进制对应的ASCII字符</td>
</tr>
<tr>
<td align="center">-s</td>
<td align="center">设置抓包时的抓包长度</td>
</tr>
<tr>
<td align="center">-w</td>
<td align="center">将输出结果定向到某个文件，一般为pcap后缀</td>
</tr>
<tr>
<td align="center">-r</td>
<td align="center">从文件读取数据包并显示数字表示端口</td>
</tr>
<tr>
<td align="center">-i</td>
<td align="center">指定要监听的端口。如果为”-i any”表示住区所有网卡数据包</td>
</tr>
<tr>
<td align="center">-v</td>
<td align="center">输出诸如ip数据包中的TTL更加详细的信息</td>
</tr>
<tr>
<td align="center">-t</td>
<td align="center">不打印时间戳</td>
</tr>
<tr>
<td align="center">-e</td>
<td align="center">显示以太网帧头部信息</td>
</tr>
<tr>
<td align="center">-c</td>
<td align="center">仅仅抓取指定数量的数据包</td>
</tr>
<tr>
<td align="center">-x</td>
<td align="center">按照十六进制显示数据包内容</td>
</tr>
<tr>
<td align="center">-X</td>
<td align="center">不仅仅输出-x结果还输出十六进制对应的ASCII字符</td>
</tr>
<tr>
<td align="center">-s</td>
<td align="center">设置抓包时的抓包长度</td>
</tr>
<tr>
<td align="center">-w</td>
<td align="center">将输出结果定向到某个文件，一般为pcap后缀</td>
</tr>
<tr>
<td align="center">-r</td>
<td align="center">从文件读取数据包并显示</td>
</tr>
</tbody></table>
<p>知道了相关参数，下面看几个案例</p>
<table>
<thead>
<tr>
<th align="center">执行任务</th>
<th align="center">执行命令</th>
</tr>
</thead>
<tbody><tr>
<td align="center">捕获特定网口数据包</td>
<td align="center">tcpdump -i eth0</td>
</tr>
<tr>
<td align="center">捕获特定个数(1000)的包</td>
<td align="center">tcpdump -c 1000 -i eth0</td>
</tr>
<tr>
<td align="center">将捕获的包保存到文件</td>
<td align="center">tcpdump -w a.pcap -i eth0</td>
</tr>
<tr>
<td align="center">读取pcap格式的包</td>
<td align="center">tcpdump -r a.pcap</td>
</tr>
<tr>
<td align="center">增加捕获包的时间戳</td>
<td align="center">tcpdump -n -ttt -i eth0</td>
</tr>
<tr>
<td align="center">指定捕获包的协议类型</td>
<td align="center">tcpdump -i eth0 arp</td>
</tr>
<tr>
<td align="center">捕获指定端口</td>
<td align="center">tcpdump -i eth0 post 22</td>
</tr>
<tr>
<td align="center">捕获特定目标ip+port的包</td>
<td align="center">tcpdump -i eth0 dst address and port 22</td>
</tr>
<tr>
<td align="center">捕获DNS请求和响应</td>
<td align="center">tcpdump -i eth0 -s0 port 53</td>
</tr>
<tr>
<td align="center">匹配Http请求头</td>
<td align="center">tcpdump -s 0 -v -n -l</td>
</tr>
<tr>
<td align="center">将捕获的包保存到文件</td>
<td align="center">tcpdump -w a.pcap -i eth0</td>
</tr>
<tr>
<td align="center">读取pcap格式的包</td>
<td align="center">tcpdump -r a.pcap</td>
</tr>
<tr>
<td align="center">增加捕获包的时间戳</td>
<td align="center">tcpdump -n -ttt -i eth0</td>
</tr>
<tr>
<td align="center">指定捕获包的协议类型</td>
<td align="center">tcpdump -i eth0 arp</td>
</tr>
<tr>
<td align="center">捕获指定端口</td>
<td align="center">tcpdump -i eth0 post 22</td>
</tr>
<tr>
<td align="center">捕获特定目标ip+port的包</td>
<td align="center">tcpdump -i eth0 dst address and port 22</td>
</tr>
<tr>
<td align="center">捕获DNS请求和响应</td>
<td align="center">tcpdump -i eth0 -s0 port 53</td>
</tr>
<tr>
<td align="center">匹配Http请求头</td>
<td align="center">tcpdump -s 0 -v -n -l</td>
</tr>
</tbody></table>
<h2 id="11-lsof"><a href="#11-lsof" class="headerlink" title="11 lsof"></a>11 lsof</h2><blockquote>
<p>列出当前系统打开的文件描述符工具。可以得知感兴趣的描述符是被哪些进程使用</p>
</blockquote>
<p>同样，我们看看相关参数</p>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-i</td>
<td align="center">显示sokcet文件描述符</td>
</tr>
<tr>
<td align="center">-c</td>
<td align="center">显示指定的命令打开的所有文件描述符</td>
</tr>
<tr>
<td align="center">-t</td>
<td align="center">仅显示打开了目标文件描述符的进程pid</td>
</tr>
</tbody></table>
<p>老规矩，上几个例子</p>
<table>
<thead>
<tr>
<th align="center">执行任务</th>
<th align="center">命令</th>
</tr>
</thead>
<tbody><tr>
<td align="center">列出所有的网络链接</td>
<td align="center">lsof -i</td>
</tr>
<tr>
<td align="center">列出所有udp的网络链接</td>
<td align="center">lsof -i udp</td>
</tr>
<tr>
<td align="center">列出谁在使用某个端口</td>
<td align="center">lsof -i :3306</td>
</tr>
<tr>
<td align="center">列出谁在使用特定的tcp端口</td>
<td align="center">lsof -i tcp:80</td>
</tr>
<tr>
<td align="center">根据文件描述范围列出文件信息</td>
<td align="center">lsof -d 2-3</td>
</tr>
</tbody></table>
<h2 id="12-nc"><a href="#12-nc" class="headerlink" title="12 nc"></a>12 nc</h2><blockquote>
<p>nc–&gt;“瑞士军刀”。不知大家在渗透过程中，拿了shell有没有使用nc搞点事儿。它用来快速构建网络链接。常用来调试客户端程序。</p>
</blockquote>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-i</td>
<td align="center">设置数据包传送的时间间隔</td>
</tr>
<tr>
<td align="center">-l</td>
<td align="center">以服务器方式运行。默认为客户端运行</td>
</tr>
<tr>
<td align="center">-k</td>
<td align="center">重复接受并处理某个端口上的所有链接</td>
</tr>
<tr>
<td align="center">-p</td>
<td align="center">以客户端运行时强制其使用指定端口</td>
</tr>
<tr>
<td align="center">-C</td>
<td align="center">将CR和LF两个字符作为结束符</td>
</tr>
<tr>
<td align="center">-u</td>
<td align="center">使用udp协议。默认tcp协议</td>
</tr>
<tr>
<td align="center">-X</td>
<td align="center">nc客户端余代理服务器通信时默认为socks5协议。</td>
</tr>
<tr>
<td align="center">-z</td>
<td align="center">扫描目标机器某个范围服务是否开启</td>
</tr>
</tbody></table>
<p>案例</p>
<table>
<thead>
<tr>
<th align="center">执行任务</th>
<th align="center">执行命令</th>
</tr>
</thead>
<tbody><tr>
<td align="center">扫描机器A端口号在30-40的服务</td>
<td align="center">nc -z A 30-40</td>
</tr>
<tr>
<td align="center">连接服务器A 端口号为5000</td>
<td align="center">nc -C A 5000</td>
</tr>
<tr>
<td align="center">传送文件</td>
<td align="center">MachineA:nc -v -n ip portE:\a.exe</td>
</tr>
</tbody></table>
<h2 id="13-netstat"><a href="#13-netstat" class="headerlink" title="13 netstat"></a>13 netstat</h2><blockquote>
<p>netstat是一个网络信息统计工具。它可以得到网卡接口上全部了解，路由表信息，网卡接口信息等。通常在网络编程中我们用它来显示TCP连接以及状态信息。</p>
</blockquote>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-n</td>
<td align="center">使用IP地址表示主机</td>
</tr>
<tr>
<td align="center">-a</td>
<td align="center">显示结果中包含监听的socket</td>
</tr>
<tr>
<td align="center">-t</td>
<td align="center">仅显示TCP连接</td>
</tr>
<tr>
<td align="center">-r</td>
<td align="center">显示路由信息</td>
</tr>
<tr>
<td align="center">-i</td>
<td align="center">显示网卡接口数据流量</td>
</tr>
<tr>
<td align="center">-c</td>
<td align="center">每隔1s输出一次</td>
</tr>
<tr>
<td align="center">-o</td>
<td align="center">显示socket定时器的信息</td>
</tr>
<tr>
<td align="center">-p</td>
<td align="center">显示socket所属的进程的PID和名字</td>
</tr>
</tbody></table>
<p>下面列举几个常用例子</p>
<table>
<thead>
<tr>
<th align="center">执行任务</th>
<th align="center">执行命令</th>
</tr>
</thead>
<tbody><tr>
<td align="center">列出所有连接</td>
<td align="center">netstat -a</td>
</tr>
<tr>
<td align="center">只列出TCP或者UDP</td>
<td align="center">netstat -at/netstat -au</td>
</tr>
<tr>
<td align="center">列出监听中的连接</td>
<td align="center">netstat -tnl</td>
</tr>
<tr>
<td align="center">获取进程名、进程号以及用户 ID</td>
<td align="center">nestat  -nlpt</td>
</tr>
<tr>
<td align="center">打印统计信息</td>
<td align="center">netstat -s</td>
</tr>
<tr>
<td align="center">netstat持续输出</td>
<td align="center">netstat -ct</td>
</tr>
<tr>
<td align="center">打印active状态的连接</td>
<td align="center">netstat -atnp</td>
</tr>
<tr>
<td align="center">查看服务是否运行(npt)</td>
<td align="center">netstat -aple</td>
</tr>
</tbody></table>
<h2 id="14-vmstat"><a href="#14-vmstat" class="headerlink" title="14 vmstat"></a>14 vmstat</h2><blockquote>
<p>vmstat能够实时输出系统的进程信息，内存使用，cpu使用等资源的使用情况</p>
</blockquote>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-f</td>
<td align="center">显示系统自启动以来执行的fork次数</td>
</tr>
<tr>
<td align="center">-s</td>
<td align="center">显示内存相关统计信息</td>
</tr>
<tr>
<td align="center">-d</td>
<td align="center">显示磁盘相关统计信息</td>
</tr>
<tr>
<td align="center">-p</td>
<td align="center">显示指定磁盘分区统计信息</td>
</tr>
<tr>
<td align="center">count</td>
<td align="center">采样次数。</td>
</tr>
</tbody></table>
<p>看一下vmstat都有哪些输出字段。</p>
<p><img src="/2019/08/14/%E5%B8%B8%E7%94%A8%E7%9A%8420%E4%B8%AALinux%E5%91%BD%E4%BB%A4/vmstat.png" alt=" "><br>字段名|描述<br>:-:|:-:<br>procs|r表示等待运行的而进程数目。b表示处于不可中断睡眠状态的进程数目<br>memory|swpd：使用的虚拟内存量。free：空闲内存量。buff：用作缓冲区的内存量。cache：用作缓存的内存量。<br>swap|si：从磁盘换入的内存量（/s）。so：交换到磁盘的内存量（/s）。<br>io|bi：从块设备接收的块（blocks/s）。bo：发送到块设备的块（blocks/s）。<br>system|in：每秒中断的次数，包括时钟。cs：每秒上下文切换的次数。</p>
<h2 id="15-mpstat"><a href="#15-mpstat" class="headerlink" title="15 mpstat"></a>15 mpstat</h2><blockquote>
<p>能够实时监测多处理器系统中各个cpu的使用情况。这个命令的执行需要安装sysstat，在centos中执行yum install systat就好了。</p>
</blockquote>
<p><img src="/2019/08/14/%E5%B8%B8%E7%94%A8%E7%9A%8420%E4%B8%AALinux%E5%91%BD%E4%BB%A4/mpstat.png" alt=" "></p>
<table>
<thead>
<tr>
<th align="center">字段</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">cpu</td>
<td align="center">表示当前条信息属于哪个cpu的数据</td>
</tr>
<tr>
<td align="center">%usr</td>
<td align="center">进程运行在用户空间所占cpu运行时间的比例</td>
</tr>
<tr>
<td align="center">%nice</td>
<td align="center">nice值为负的进程运行在用户空间的时间占cpu总运行时间的比例</td>
</tr>
<tr>
<td align="center">%iowait</td>
<td align="center">cpu等待磁盘操作的时间占cpu总运行时间的比例</td>
</tr>
<tr>
<td align="center">%irq</td>
<td align="center">cpu用于处理硬件中断时间占cpu总运行时间的比例</td>
</tr>
<tr>
<td align="center">%soft</td>
<td align="center">cpu用于处理软件中断的时间占cpu用运行时间的比例</td>
</tr>
<tr>
<td align="center">%steal</td>
<td align="center">一对虚拟cpu。当超级管理员在处理某个虚拟cpu时，另一个等待它处理完才能运行。这段等待时间表示为steal时间占总运行时间的比例</td>
</tr>
<tr>
<td align="center">%guest</td>
<td align="center">运行虚拟cpu时间占cpu总运行时间的比例</td>
</tr>
<tr>
<td align="center">%idle</td>
<td align="center">系统空闲时间占cpu总运行时间的比例</td>
</tr>
</tbody></table>
<h2 id="16-split"><a href="#16-split" class="headerlink" title="16 split"></a>16 split</h2><blockquote>
<p>将文件分割为数个。</p>
</blockquote>
<p>split -5 a.txt//将a.txt每5行分割为一个文件</p>
<h2 id="17-wc-c-filename"><a href="#17-wc-c-filename" class="headerlink" title="17 wc -c +filename"></a>17 wc -c +filename</h2><blockquote>
<p>统计文件中单词的个数。</p>
</blockquote>
<h2 id="18-more-less"><a href="#18-more-less" class="headerlink" title="18 more/less"></a>18 more/less</h2><blockquote>
<p>一页一页显示，通过空白键显示下一页/上一页</p>
</blockquote>
<h2 id="19-head-tail"><a href="#19-head-tail" class="headerlink" title="19 head/tail"></a>19 head/tail</h2><blockquote>
<p>查看某文件前几行或者后几行</p>
</blockquote>
<h2 id="20-diff"><a href="#20-diff" class="headerlink" title="20 diff"></a>20 diff</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diff -c file1 file2 &#x2F;&#x2F;显示两个文件的差异</span><br></pre></td></tr></table></figure>

    </div>
</article>

    <div class="blog-post-comments">
        <section id="comment">
            <div id="valine_container" class="valine_thread"></div>
        </section>
        <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
        <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
        <script>
            var GUEST_INFO = ['nick', 'mail', 'link'];
            var guest_info = 'nick,mail,link'.split(',').filter(function (item) {
                return GUEST_INFO.indexOf(item) > -1
            });
            var notify = 'true' == true;
            var verify = 'false' == true;
            var valine = new Valine();
            valine.init({
                el: '#valine_container',
                notify: notify,
                verify: verify,
                appId: "TEnoeFH0w3atQfEjCMpzfDOm-gzGzoHsz",
                appKey: "8GXwVUi9ebKXuqSFR48rkXtK",
                placeholder: "Just go go",
                pageSize: '10',
                avatar: 'mm',
                lang: 'zh-cn'
            })
        </script>
    </div>

    
        <div id="footer-post-container">
    <div id="footer-post">

        <div id="nav-footer" style="display: none">
            <ul>
                
                    <li><a href="/">Home</a></li>
                
                    <li><a href="/archives/">Articles</a></li>
                
                    <li><a href="/categories/">Category</a></li>
                
                    <li><a href="/tags/">Tag</a></li>
                
                    <li><a href="/about/">About</a></li>
                
                    <li><a href="/search/">Search</a></li>
                
            </ul>
        </div>

        <div id="toc-footer" style="display: none">
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-查看目录以及权限"><span class="toc-number">1.</span> <span class="toc-text">1 查看目录以及权限</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-nohup-no-hang-up-不要挂起的意思"><span class="toc-number">2.</span> <span class="toc-text">2 nohup(no hang up 不要挂起的意思)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-查看进程"><span class="toc-number">3.</span> <span class="toc-text">3 查看进程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-awk"><span class="toc-number">4.</span> <span class="toc-text">4 awk</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-tar解压缩"><span class="toc-number">5.</span> <span class="toc-text">5 tar解压缩</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-scp"><span class="toc-number">6.</span> <span class="toc-text">6 scp</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-不敢用的命令-rm-rf"><span class="toc-number">7.</span> <span class="toc-text">7 不敢用的命令 rm -rf</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-watch"><span class="toc-number">8.</span> <span class="toc-text">8 watch</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-df"><span class="toc-number">9.</span> <span class="toc-text">9 df</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-tcpdump"><span class="toc-number">10.</span> <span class="toc-text">10 tcpdump</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-lsof"><span class="toc-number">11.</span> <span class="toc-text">11 lsof</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-nc"><span class="toc-number">12.</span> <span class="toc-text">12 nc</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-netstat"><span class="toc-number">13.</span> <span class="toc-text">13 netstat</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-vmstat"><span class="toc-number">14.</span> <span class="toc-text">14 vmstat</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-mpstat"><span class="toc-number">15.</span> <span class="toc-text">15 mpstat</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16-split"><span class="toc-number">16.</span> <span class="toc-text">16 split</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17-wc-c-filename"><span class="toc-number">17.</span> <span class="toc-text">17 wc -c +filename</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#18-more-less"><span class="toc-number">18.</span> <span class="toc-text">18 more&#x2F;less</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#19-head-tail"><span class="toc-number">19.</span> <span class="toc-text">19 head&#x2F;tail</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20-diff"><span class="toc-number">20.</span> <span class="toc-text">20 diff</span></a></li></ol>
        </div>

        <div id="share-footer" style="display: none">
            <ul>
    <li><a class="icon"
           href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://theoak.online/2019/08/14/%E5%B8%B8%E7%94%A8%E7%9A%8420%E4%B8%AALinux%E5%91%BD%E4%BB%A4/&title=常用的20个Linux命令"><i
                    class="fab fa-qq fa-lg" aria-hidden="true"></i></a></li>
    <li><a class="icon"
           href="https://service.weibo.com/share/share.php?url=http://theoak.online/2019/08/14/%E5%B8%B8%E7%94%A8%E7%9A%8420%E4%B8%AALinux%E5%91%BD%E4%BB%A4/&title=常用的20个Linux命令"><i
                    class="fab fa-weibo fa-lg" aria-hidden="true"></i></a></li>
    <li><a class="icon" href="https://twitter.com/share?url=http://theoak.online/2019/08/14/%E5%B8%B8%E7%94%A8%E7%9A%8420%E4%B8%AALinux%E5%91%BD%E4%BB%A4/&text=常用的20个Linux命令" target="_blank" rel="noopener"><i
                    class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
    <li><a class="icon" href="mailto:?subject=常用的20个Linux命令&body=Check out this article: http://theoak.online/2019/08/14/%E5%B8%B8%E7%94%A8%E7%9A%8420%E4%B8%AALinux%E5%91%BD%E4%BB%A4/"><i
                    class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
</ul>
        </div>

        <div id="actions-footer">
            <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i
                        class="fas fa-bars fa-lg"
                        aria-hidden="true"></i> Menu</a>
            <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i
                        class="fas fa-list fa-lg"
                        aria-hidden="true"></i> TOC</a>
            <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i
                        class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
            <a id="top" style="display:none" class="icon" href="#"
               onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg"
                                                                               aria-hidden="true"></i> Top
            </a>
        </div>

    </div>
</div>
    
    <footer id="footer">
    <div class="footer-left">
        Copyright &copy; 2020 <i class="fas fa-heart"></i>
        EricGerry
        
    </div>
    <!-- <div class="footer-right">
    <nav>
      <ul>
        
        <li><a href="/">Home</a></li>
        
        <li><a href="/archives/">Articles</a></li>
        
        <li><a href="/categories/">Category</a></li>
        
        <li><a href="/tags/">Tag</a></li>
        
        <li><a href="/about/">About</a></li>
        
        <li><a href="/search/">Search</a></li>
        
      </ul>
    </nav>
  </div> -->

    <div class="footer-custom">
        Framework by <a href="https://hexo.io" target="_blank">Hexo</a> & Theme by <a
                href="https://github.com/xuthus5/hexo-theme-cactus" target="_blank">Cactus-CN</a>
        
    </div>
</footer>
</div>
<!-- styles -->

<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.12.1/css/all.min.css">


<link rel="stylesheet" href="https://cdn.staticfile.org/justifiedGallery/3.7.0/css/justifiedGallery.min.css">

<!-- jquery -->

<script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script>


<script src="https://cdn.staticfile.org/justifiedGallery/3.7.0/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

    
<script src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js"></script>

    <script type="text/javascript">
        $(function () {
            // copy-btn HTML
            var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
            btn += '<i class="far fa-clone"></i>';
            btn += '</span>';
            // mount it!
            $(".highlight .code pre").before(btn);
            var clip = new ClipboardJS('.btn-copy', {
                target: function (trigger) {
                    return trigger.nextElementSibling;
                }
            });
            clip.on('success', function (e) {
                e.trigger.setAttribute('aria-label', "Copied!");
                e.clearSelection();
            })
        })
    </script>


<script src="/js/main.js"></script>

<!-- search -->

</body>

</html>